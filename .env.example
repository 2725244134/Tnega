# ============================================
# Tnega FastAPI 应用环境变量配置
# ============================================

# 基础配置
TNEGA_DEBUG=false
TNEGA_HOST=0.0.0.0
TNEGA_PORT=8000
TNEGA_LOG_LEVEL=INFO

# ============================================
# 数据库配置
# ============================================

# PostgreSQL 数据库配置
TNEGA_DB_HOST=db
TNEGA_DB_PORT=5432
TNEGA_DB_USER=postgres
TNEGA_DB_PASSWORD=your_secure_password_here
TNEGA_DB_NAME=tnega

# 数据库连接池配置
TNEGA_DB_POOL_SIZE=20
TNEGA_DB_MAX_OVERFLOW=40

# ============================================
# Redis 配置
# ============================================

# Redis 连接配置
TNEGA_REDIS_HOST=redis
TNEGA_REDIS_PORT=6379
TNEGA_REDIS_URL=redis://redis:6379/0

# Redis 连接池配置
TNEGA_REDIS_POOL_SIZE=20
TNEGA_REDIS_TIMEOUT=5

# ============================================
# Celery 配置
# ============================================

# Celery 消息代理配置
TNEGA_CELERY_BROKER_URL=redis://redis:6379/1
TNEGA_CELERY_RESULT_BACKEND=redis://redis:6379/2
TNEGA_CELERY_TASK_TIMEOUT=3600

# 任务配置
TNEGA_MAX_CONCURRENT_TASKS=10
TNEGA_TASK_RETRY_TIMES=3
TNEGA_TASK_RETRY_DELAY=60

# ============================================
# API 配置
# ============================================

# API 基础配置
TNEGA_API_TITLE=Tnega API
TNEGA_API_VERSION=v1
TNEGA_API_DESCRIPTION=基于 FastAPI + Redis 的社交内容分析服务

# CORS 配置（逗号分隔）
TNEGA_CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================
# 缓存配置
# ============================================

# 缓存过期时间（秒）
TNEGA_CACHE_TTL=3600
TNEGA_ANALYSIS_CACHE_TTL=86400

# ============================================
# Twitter API 配置
# ============================================

# Twitter API 密钥（必需）
TNEGA_TWITTER_API_KEY=your_twitter_api_key_here
TNEGA_TWITTER_API_BASE_URL=https://api.twitterapi.io

# ============================================
# Google Gemini API 配置
# ============================================

# Google Gemini API 密钥（必需）
TNEGA_GOOGLE_API_KEY=your_google_api_key_here

# ============================================
# 监控配置（可选）
# ============================================

# Logfire 监控（可选）
TNEGA_LOGFIRE_TOKEN=your_logfire_token_here

# ============================================
# Docker 相关配置
# ============================================

# 端口映射
TNEGA_API_PORT=8000
TNEGA_DB_PORT=5432
TNEGA_REDIS_PORT=6379
TNEGA_NGINX_PORT=80
TNEGA_PROMETHEUS_PORT=9090
TNEGA_GRAFANA_PORT=3000

# Grafana 配置
TNEGA_GRAFANA_USER=admin
TNEGA_GRAFANA_PASSWORD=admin

# 数据库迁移配置
TNEGA_RUN_MIGRATIONS=true

# ============================================
# 使用说明
# ============================================

# 1. 复制此文件为 .env:
#    cp .env.example .env
#
# 2. 修改以下必需配置:
#    - TNEGA_TWITTER_API_KEY: 从 https://twitterapi.io/ 获取
#    - TNEGA_GOOGLE_API_KEY: 从 https://makersuite.google.com/app/apikey 获取
#    - TNEGA_DB_PASSWORD: 数据库密码
#
# 3. 可选配置:
#    - TNEGA_DEBUG: 开发环境设为 true，生产环境设为 false
#    - TNEGA_LOG_LEVEL: 日志级别 (DEBUG, INFO, WARNING, ERROR)
#    - TNEGA_LOGFIRE_TOKEN: 监控服务（可选）
#
# 4. 启动服务:
#    docker-compose up -d
#
# 5. 访问服务:
#    - API 文档: http://localhost:8000/docs
#    - 健康检查: http://localhost:8000/health
#    - Grafana: http://localhost:3000 (admin/admin)
#    - Prometheus: http://localhost:9090
#
# ============================================
# 安全提示
# ============================================

# 1. 生产环境务必修改默认密码
# 2. 不要将 .env 文件提交到版本控制
# 3. 定期更换 API 密钥
# 4. 使用 HTTPS 部署生产环境
# 5. 配置适当的防火墙规则